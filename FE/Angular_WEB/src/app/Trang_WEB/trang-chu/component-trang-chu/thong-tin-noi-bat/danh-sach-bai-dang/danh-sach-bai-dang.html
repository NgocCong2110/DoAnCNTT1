<div *ngIf="loading">Đang tải dữ liệu...</div>
<div *ngIf="error" class="text-danger">{{ error }}</div>

<div *ngIf="!loading && !error">
  <div *ngFor="let bai of danhSachBaiDang" 
       (click)="chonBaiDang(bai)" 
       [class.active]="bai.ma_bai_dang === baiDangDangChon?.ma_bai_dang" 
       class="card my-4 p-2 border rounded">
    <h3>{{ bai.tieu_de }}</h3>
    <p><b>Người đăng:</b> {{ bai.ten_nguoi_dang }}</p>
    <p><b>Vị trí:</b> {{ bai.viec_lam?.dia_diem || 'Chưa có thông tin' }}</p>
  </div>

  <nav *ngIf="tongTrang > 1">
    <ul class="pagination" style="display: flex; justify-content: center; align-items: center;">
      <li class="page-item" [class.disabled]="trangHienTai === 1">
        <a class="page-link" (click)="chuyenTrang(trangHienTai - 1)">Trước</a>
      </li>
      <li class="page-item" *ngFor="let t of [].constructor(tongTrang); let i = index" 
          [class.active]="trangHienTai === i + 1">
        <a class="page-link" (click)="chuyenTrang(i + 1)">{{ i + 1 }}</a>
      </li>
      <li class="page-item" [class.disabled]="trangHienTai === tongTrang">
        <a class="page-link" (click)="chuyenTrang(trangHienTai + 1)">Sau</a>
      </li>
    </ul>
  </nav>
</div>
