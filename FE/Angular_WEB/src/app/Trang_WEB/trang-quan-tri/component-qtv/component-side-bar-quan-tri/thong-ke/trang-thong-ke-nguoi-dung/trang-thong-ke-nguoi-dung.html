<div class="dashboard-container">
  <div class="dashboard-header">
    <div class="header-content">
      <h1 class="title">Thống Kê Người Dùng</h1>
      <p class="subtitle">Tổng quan và phân tích người dùng hệ thống</p>
    </div>
    <button class="export-btn">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
        <polyline points="7 10 12 15 17 10"></polyline>
        <line x1="12" y1="15" x2="12" y2="3"></line>
      </svg>
      Xuất báo cáo
    </button>
  </div>

  <div class="stats-grid">
    <div class="stat-card card-blue">
      <div class="stat-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
          <circle cx="9" cy="7" r="4"></circle>
          <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
          <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
        </svg>
      </div>
      <div class="stat-content">
        <p class="stat-label">Tổng người dùng</p>
        <h2 class="stat-value">{{ tongNguoiDung }}</h2>
        <p class="stat-change">Tất cả các tháng</p>
      </div>
    </div>

    <div class="stat-card card-purple">
      <div class="stat-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
      </div>
      <div class="stat-content">
        <p class="stat-label">Người dùng tháng này</p>
        <h2 class="stat-value">{{ nguoiDungThangNay }}</h2>
        <p class="stat-change" [class.positive]="tangTruong > 0" [class.negative]="tangTruong < 0">
          <span *ngIf="tangTruong > 0">↑</span>
          <span *ngIf="tangTruong < 0">↓</span>
          {{ tangTruong > 0 ? '+' : '' }}{{ tangTruong }}% so với tháng trước
        </p>
      </div>
    </div>

    <div class="stat-card card-green">
      <div class="stat-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
        </svg>
      </div>
      <div class="stat-content">
        <p class="stat-label">Trung bình/tháng</p>
        <h2 class="stat-value">{{ trungBinh }}</h2>
        <p class="stat-change">Người dùng trung bình</p>
      </div>
    </div>

    <div class="stat-card card-cyan">
      <div class="stat-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="12" y1="20" x2="12" y2="10"></line>
          <line x1="18" y1="20" x2="18" y2="4"></line>
          <line x1="6" y1="20" x2="6" y2="16"></line>
        </svg>
      </div>
      <div class="stat-content">
        <p class="stat-label">Tỷ lệ tăng trưởng</p>
        <h2 class="stat-value">{{ tangTruong > 0 ? '+' : '' }}{{ tangTruong }}%</h2>
        <p class="stat-change">So với tháng trước</p>
      </div>
    </div>
  </div>

  <div class="charts-grid">
    <div class="chart-card">
      <div class="chart-wrapper">
        <canvas baseChart
                [data]="barChartData"
                [options]="barChartOptions"
                [type]="'bar'">
        </canvas>
      </div>
    </div>

    <div class="chart-card">
      <div class="chart-wrapper">
        <canvas baseChart
                [data]="lineChartData"
                [options]="lineChartOptions"
                [type]="'line'">
        </canvas>
      </div>
    </div>
  </div>
</div>