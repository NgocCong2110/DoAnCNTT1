<div class="container">
  <h2>Danh sách người tìm việc</h2>

  <div *ngIf="loading">Đang tải dữ liệu...</div>
  <div *ngIf="error" class="text-danger">{{ error }}</div>

  <div *ngIf="!loading && !error">
    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <th>Mã người tìm việc</th>
          <th>Tên đăng nhập</th>
          <th>Họ tên</th>
          <th>Email</th>
          <th>Điện thoại</th>
          <th>Ngày tạo</th>
          <th>Ngày cập nhật</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let nguoi of danh_sach_nguoi_tim_viec; let i = index">
          <td>{{ nguoi.ma_nguoi_tim_viec }}</td>
          <td>{{ nguoi.ten_dang_nhap }}</td>
          <td>{{ nguoi.ho_ten }}</td>
          <td>{{ nguoi.email }}</td>
          <td>{{ nguoi.dien_thoai }}</td>
          <td>{{ nguoi.ngay_tao | date:'dd/MM/yyyy HH:mm' }}</td>
          <td>{{ nguoi.ngay_cap_nhat | date:'dd/MM/yyyy HH:mm' }}</td>
          <td>
            <button class="btn btn-primary btn-sm" style="background-color: red; border: none;"
              (click)="moXacNhanXoa(nguoi, i)">
              Xóa người tìm việc
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <nav *ngIf="tongTrang > 1">
      <ul class="pagination">
        <li class="page-item" [class.disabled]="trangHienTai === 1">
          <a class="page-link" (click)="chuyenTrang(trangHienTai - 1)">Trước</a>
        </li>
        <li class="page-item"
            *ngFor="let t of [].constructor(tongTrang); let i = index"
            [class.active]="trangHienTai === i + 1">
          <a class="page-link" (click)="chuyenTrang(i + 1)">{{ i + 1 }}</a>
        </li>
        <li class="page-item" [class.disabled]="trangHienTai === tongTrang">
          <a class="page-link" (click)="chuyenTrang(trangHienTai + 1)">Sau</a>
        </li>
      </ul>
    </nav>
  </div>
</div>
<div *ngIf="showXacNhanXoa" class="xac-nhan-xoa-overlay">
  <div class="xac-nhan-xoa-form">
    <h5>Bạn có chắc muốn xóa người tìm việc "<b>{{ nguoi_tim_viec_chon?.ho_ten }}</b>"?</h5>
    <div class="mt-3 text-end">
      <button class="btn btn-secondary me-2" (click)="huyXoa()">Hủy</button>
      <button class="btn btn-danger" (click)="xoaNguoiTimViec()">Đồng ý xóa</button>
    </div>
  </div>
</div>
