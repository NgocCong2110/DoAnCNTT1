<div class="cv-container">
  <div class="cv-card">
    <h2 class="cv-title">üìÑ Upload CV s·∫µn c√≥</h2>

    <div class="cv-upload">
      <input type="file" id="fileInput" class="cv-input" (change)="onFileSelected($event)" />
      <label for="fileInput" class="btn-upload">+ Ch·ªçn t·ªáp</label>
    </div>

    <p *ngIf="uploadedFileName" class="file-name">
      File ƒë√£ ch·ªçn: <strong>{{ uploadedFileName }}</strong>
    </p>

    <button class="btn-submit" (click)="dangTaiForm()">
      üöÄ ƒêƒÉng t·∫£i CV
    </button>
  </div>


  <div class="divider"></div>

  <div class="card">
    <h2>‚úçÔ∏è T·∫°o CV tr·ª±c ti·∫øp tr√™n web</h2>
    <button class="btn-dark" (click)="moForm()" style="display: flex; justify-content: center; align-items: center;">+
      T·∫°o CV m·ªõi</button>
  </div>

  <div class="divider"></div>

  <div class="card">
    <h2>üìÇ Danh s√°ch CV c·ªßa b·∫°n</h2>
    <ul>
      <li *ngFor="let cv of danh_sach_cv">{{ cv.hoTen }} - {{ cv.email }}</li>
    </ul>
  </div>

  <div class="custom-backdrop" *ngIf="hienModal">
    <div class="backdrop-click-layer" (click)="dongForm()"></div>
    <div class="custom-modal">
      <div class="custom-modal-header">
        <h3>üìù Nh·∫≠p th√¥ng tin CV</h3>
        <button class="close-btn" (click)="dongForm()">‚úñ</button>
      </div>

      <form class="custom-modal-body" (ngSubmit)="luuCV()" #cvForm="ngForm">
        <div *ngIf="blocks.includes('thongTinCoBan')" class="form-block">
          <h4>Th√¥ng tin c∆° b·∫£n</h4>
          <div class="form-group">
            <label>H·ªç t√™n</label>
            <input type="text" name="hoTen" [(ngModel)]="formCv.hoTen" required />
          </div>
          <div class="form-group">
            <label>Email</label>
            <input type="email" name="email" [(ngModel)]="formCv.email" required />
          </div>
          <div class="form-group">
            <label>ƒêi·ªán tho·∫°i</label>
            <input type="text" name="dienThoai" [(ngModel)]="formCv.dienThoai" required />
          </div>
          <div #scrollMarker class="lazy-marker" data-block="thongTinCoBan"></div>
        </div>

        <div *ngIf="blocks.includes('hocVan')" class="form-block">
          <h4>H·ªçc v·∫•n</h4>
          <div class="form-group">
            <label>Tr∆∞·ªùng h·ªçc</label>
            <input type="text" name="truong_hoc" [(ngModel)]="formCv.truong_hoc" />
          </div>
          <div class="form-group">
            <label>Chuy√™n ng√†nh</label>
            <input type="text" name="chuyen_nganh" [(ngModel)]="formCv.chuyen_nganh" />
          </div>
          <div class="form-group">
            <label>Ng√†y sinh</label>
            <input type="date" name="ngay_sinh" [(ngModel)]="formCv.ngay_sinh" />
          </div>
          <div #scrollMarker class="lazy-marker" data-block="hocVan"></div>
        </div>

        <div *ngIf="blocks.includes('kinhNghiem')" class="form-block">
          <h4>Kinh nghi·ªám l√†m vi·ªác</h4>
          <div class="form-group">
            <label>Kinh nghi·ªám</label>
            <textarea name="kinh_nghiem" [(ngModel)]="formCv.kinh_nghiem" rows="4"></textarea>
          </div>
          <div #scrollMarker class="lazy-marker" data-block="kinhNghiem"></div>
        </div>

        <div *ngIf="blocks.includes('kyNang')" class="form-block">
          <h4>K·ªπ nƒÉng</h4>
          <div class="form-group">
            <label>K·ªπ nƒÉng</label>
            <textarea name="kyNang" [(ngModel)]="formCv.kyNang" rows="3"></textarea>
          </div>
          <div #scrollMarker class="lazy-marker" data-block="kyNang"></div>
        </div>

        <div *ngIf="blocks.includes('duAn')" class="form-block">
          <h4>D·ª± √°n ƒë√£ th·ª±c hi·ªán</h4>
          <div class="form-group">
            <label>D·ª± √°n</label>
            <textarea name="duAn" [(ngModel)]="formCv.duAn" rows="3"></textarea>
          </div>
          <div #scrollMarker class="lazy-marker" data-block="duAn"></div>
        </div>

        <div *ngIf="blocks.includes('mucTieu')" class="form-block">
          <h4>M·ª•c ti√™u ngh·ªÅ nghi·ªáp</h4>
          <div class="form-group">
            <label>M·ª•c ti√™u ngh·ªÅ nghi·ªáp</label>
            <textarea name="mucTieu" [(ngModel)]="formCv.mucTieu" rows="3"></textarea>
          </div>
        </div>

        <div class="custom-modal-footer" *ngIf="blocks.includes('mucTieu')">
          <button type="button" class="btn-gray" (click)="dongForm()">H·ªßy</button>
          <button type="submit" class="btn-dark" [disabled]="cvForm.invalid">üíæ L∆∞u CV</button>
        </div>
      </form>
    </div>
  </div>
</div>