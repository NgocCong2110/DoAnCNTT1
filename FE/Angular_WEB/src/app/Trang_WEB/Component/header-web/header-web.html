<nav class="navbar navbar-expand-lg bg-white shadow-sm">
  <div class="container-fluid">
    <button class="btn btn-outline-secondary me-2 d-lg-none" type="button" data-bs-toggle="offcanvas"
      data-bs-target="#offcanvasSidebar" aria-controls="offcanvasSidebar">☰</button>
    <a class="navbar-brand d-flex align-items-center" [routerLink]="['/trang-chu']">
      <img src="anh_WEB/anh_Logo.png" alt="Logo" style="height: 45px; width: auto;">
    </a>

    <div class="collapse navbar-collapse">
      <ul class="navbar-nav me-auto">
        <li class="nav-item"><a class="nav-link text-dark" [routerLink]="['/trang-chu']">Trang chủ</a></li>

        <li class="nav-item"><a class="nav-link text-dark" [routerLink]="['/trang-tim-viec-theo-tu-khoa']" *ngIf="this.auth.layThongTinNguoiDung()?.kieu_nguoi_dung == 'nguoi_Tim_Viec'">Tìm việc theo
            từ khóa</a></li>

        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle text-dark" href="#" role="button" data-bs-toggle="dropdown"
            aria-expanded="false">
            Danh mục
          </a>
          <div class="dropdown-menu p-3" style="min-width: 700px;" *ngIf="this.auth.layThongTinNguoiDung()?.kieu_nguoi_dung == 'nguoi_Tim_Viec' || this.auth.layThongTinNguoiDung()?.kieu_nguoi_dung == null">
            <div class="row">
              <div class="col-4">
                <h4 class="dropdown-header" style="color: black;">Việc làm</h4>
                <a class="dropdown-item" [routerLink]="['/trang-viec-lam-da-luu']">Việc làm đã lưu</a>
                <a class="dropdown-item" [routerLink]="['/trang-thong-bao']">Thông báo</a>
              </div>

              <div class="col-4">
                <h4 class="dropdown-header" style="color: black;">CV</h4>
                <a class="dropdown-item" [routerLink]="['/trang-cv-cua-nguoi-tim-viec']">CV của tôi</a>
                <a class="dropdown-item" [routerLink]="['/trang-tao-cv']">Tạo CV mới</a>
              </div>

              <div class="col-4">
                <h4 class="dropdown-header" style="color: black;">Hỗ trợ</h4>
                <a class="dropdown-item" href="#">Hướng dẫn</a>
                <a class="dropdown-item" href="#">Liên hệ</a>
              </div>
            </div>
          </div>
          <div class="dropdown-menu p-3" style="min-width: 700px;" *ngIf="this.auth.layThongTinNguoiDung()?.kieu_nguoi_dung == 'cong_Ty'">
            <div class="row">
              <div class="col-4">
                <h4 class="dropdown-header" style="color: black;">Thông báo</h4>
                <a class="dropdown-item" [routerLink]="['/trang-thong-bao']">Thông báo</a>
              </div>

              <div class="col-4">
                <h4 class="dropdown-header" style="color: black;">Quản lý tin tuyển dụng</h4>
                <a class="dropdown-item" [routerLink]="['/trang-bai-dang-cua-cong-ty']">Tin tuyển dụng của tôi</a>
              </div>

              <div class="col-4">
                <h4 class="dropdown-header" style="color: black;">Hỗ trợ</h4>
                <a class="dropdown-item" href="#">Hướng dẫn</a>
                <a class="dropdown-item" href="#">Liên hệ</a>
              </div>
            </div>
          </div>

        </li>


      </ul>

      <form class="d-flex search-bar me-3" role="search" *ngIf="auth.layThongTinNguoiDung().kieu_nguoi_dung == 'nguoi_Tim_Viec'">
        <input class="form-control search-input" type="search" [(ngModel)]="tu_khoa" name="tu_khoa" (input)="layGoiY()"
          (focus)="focusVao()" (blur)="roiKhoi()" placeholder="Tìm kiếm việc làm, công ty..." aria-label="Search"
          autocomplete="off">

        <ul class="list-group position-absolute mt-1 w-100 shadow" *ngIf="goiY?.length">
          <li class="list-group-item list-group-item-action d-flex align-items-center" *ngFor="let item of goiY"
            (click)="chonGoiY(item)">

            <img *ngIf="item.logo" [src]="'http://localhost:65001/' + item.logo" alt="logo" class="me-2"
              style="width:30px; height:30px; object-fit:cover; border-radius:4px">

            <span>{{ item.ten_label || item.ten }}</span>

            <small class="text-muted ms-2">{{ item.loai === 'viec_lam' ? 'Việc làm' : 'Công ty' }}</small>
          </li>
        </ul>
      </form>




      <ul class="navbar-nav">
        <li class="nav-item dropdown" *ngIf="!auth.layThongTinNguoiDung()">
          <a class="nav-link dropdown-toggle text-dark" href="#" role="button" data-bs-toggle="dropdown"
            aria-expanded="false">Tạo tài khoản mới</a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" [routerLink]="['/dang-nhap']">Đăng Nhập</a></li>
            <li><a class="dropdown-item" [routerLink]="['/lua-chon-dang-ky']">Đăng Ký</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown" *ngIf="auth.layThongTinNguoiDung()">
          <a class="nav-link dropdown-toggle text-dark" role="button" data-bs-toggle="dropdown"
            aria-expanded="false">Xin chào {{ nguoi_Dung?.ten_dang_nhap }}</a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" (click)="vaiTro()"
                *ngIf="auth.layThongTinNguoiDung()?.kieu_nguoi_dung == 'quan_Tri_Vien'">Quản trị hệ thống</a></li>
            <li><a class="dropdown-item" (click)="vaiTro()"
                *ngIf="auth.layThongTinNguoiDung()?.kieu_nguoi_dung == 'nguoi_Tim_Viec'">Tài khoản</a></li>
            <li><a class="dropdown-item" (click)="vaiTro()"
                *ngIf="auth.layThongTinNguoiDung()?.kieu_nguoi_dung == 'cong_Ty'">Tài khoản công ty</a></li>
            <li><a class="dropdown-item" (click)="dangXuat()">Đăng Xuất</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="offcanvas offcanvas-start bg-white d-lg-none" tabindex="-1" id="offcanvasSidebar"
  aria-labelledby="offcanvasSidebarLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title text-dark" id="offcanvasSidebarLabel">Menu</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <ul class="list-unstyled">
      <li class="nav-item"><a class="nav-link text-dark" [routerLink]="['/trang-chu']">Trang chủ</a></li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle text-dark" href="#" role="button" data-bs-toggle="dropdown"
          aria-expanded="false">
          Danh mục
        </a>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" [routerLink]="['/trang-viec-lam-da-luu']">Việc làm đã lưu</a></li>
          <li><a class="dropdown-item" [routerLink]="['/trang-thong-bao']">Thông báo</a></li>
        </ul>
      </li>
      <li><a class="nav-link text-dark" (click)="vaiTro()"
          *ngIf="auth.layThongTinNguoiDung()?.kieu_nguoi_dung == 'quan_Tri_Vien'">Quản trị hệ thống</a></li>
      <li><a class="nav-link text-dark" (click)="vaiTro()"
          *ngIf="auth.layThongTinNguoiDung()?.kieu_nguoi_dung == 'nguoi_Tim_Viec'">Tài khoản</a></li>
      <li><a class="nav-link text-dark" (click)="vaiTro()"
          *ngIf="auth.layThongTinNguoiDung()?.kieu_nguoi_dung == 'cong_Ty'">Tài khoản công ty</a></li>
      <li><a class="dropdown-item" (click)="dangXuat()" *ngIf="auth.layThongTinNguoiDung()">Đăng Xuất</a></li>
      <li><a class="nav-link text-dark" [routerLink]="['/dang-nhap']" *ngIf="!auth.layThongTinNguoiDung()">Đăng Nhập</a>
      </li>
      <li><a class="nav-link text-dark" [routerLink]="['/lua-chon-dang-ky']" *ngIf="!auth.layThongTinNguoiDung()">Đăng
          Ký</a></li>
    </ul>
  </div>
</div>