<div class="bg-light">
  <app-header-web></app-header-web>

  <div class="container job-detail-container">
    <div *ngIf="chi_tiet" class="job-detail-card shadow-sm rounded-4 p-4 bg-white">

      <div
        class="job-header d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4">
        <div class="job-header-text">
          <h2 class="job-title mb-2">{{ chi_tiet?.tieu_de }}</h2>
          <p class="company-name mb-1">
            <i class="bi bi-building"></i> {{ chi_tiet?.ten_nguoi_dang }}
          </p>
          <p class="text-muted mb-0">
            <i class="bi bi-geo-alt"></i> {{ chi_tiet?.viec_lam?.dia_diem }}
          </p>
        </div>
      </div>

      <div class="row gy-3 mb-4 job-info">
        <div class="col-md-3 col-6">
          <div class="info-item">
            <i class="bi bi-briefcase"></i>
            <div>
              <p class="label">Ngành nghề</p>
              <p class="value">{{ laynganhnghe(chi_tiet?.viec_lam?.nganh_nghe) }}</p>
            </div>
          </div>
        </div>
        <div class="col-md-3 col-6">
          <div class="info-item">
            <i class="bi bi-person-workspace"></i>
            <div>
              <p class="label">Vị trí</p>
              <p class="value">{{ chi_tiet?.viec_lam?.vi_tri }}</p>
            </div>
          </div>
        </div>
        <div class="col-md-3 col-6">
          <div class="info-item">
            <i class="bi bi-cash-coin"></i>
            <div>
              <p class="label">Mức lương</p>
              <p class="value">{{ chi_tiet?.viec_lam?.muc_luong }}</p>
            </div>
          </div>
        </div>
        <div class="col-md-3 col-6">
          <div class="info-item">
            <i class="bi bi-clock-history"></i>
            <div>
              <p class="label">Cập nhật</p>
              <p class="value">{{ chi_tiet?.viec_lam?.ngay_cap_nhat | date:'dd/MM/yyyy' }}</p>
            </div>
          </div>
        </div>
      </div>

      <div class="apply-btn-container text-center mb-4" 
           *ngIf="auth.layThongTinNguoiDung()?.kieu_nguoi_dung == 'nguoi_Tim_Viec'">
        <button class="apply-btn" (click)="ungTuyenCongViec()">
          Ứng tuyển ngay
        </button>
      </div>

      <div class="job-description">
        <h4 class="section-title">Mô tả công việc</h4>
        <p>{{ chi_tiet?.viec_lam?.mo_ta }}</p>

        <h4 class="section-title">Yêu cầu ứng viên</h4>
        <p>{{ chi_tiet?.viec_lam?.yeu_cau }}</p>

        <h4 class="section-title">Hình thức làm việc</h4>
        <p>{{ layLoaiHinh(chi_tiet?.viec_lam?.loai_hinh) }}</p>

        <h4 class="section-title">Thông tin đăng tuyển</h4>
        <p><strong>Ngày tạo:</strong> {{ chi_tiet?.viec_lam?.ngay_tao | date:'dd/MM/yyyy' }}</p>
        <p><strong>Ngày cập nhật:</strong> {{ chi_tiet?.viec_lam?.ngay_cap_nhat | date:'dd/MM/yyyy' }}</p>
      </div>

    </div>
  </div>
</div>
